/*!
 * Slidorion, An Image Slider and Accordion Combined
 * Intructions: http://www.slidorion.com
 * Created by Ben Holland - http://www.benholland.me
 * Version: 1.2.0
 * Copyright 2013 Ben Holland <hi@benhlland.me>
 */
(function(e){"use strict";e.fn.extend({slidorion:function(t){var n={autoPlay:true,controlNav:false,controlNavClass:"slidorion-nav",easing:"",effect:"random",first:1,interval:5e3,hoverPause:false,speed:1e3};var r=e.extend(n,t),i=window.location.hash.match(/slidorion/i)?location.hash.split("/")[1]-1:null;return this.each(function(){var t=i||r.first-1,n=r.first,s=r.effect,o=r.interval,u=r.controlNav,a=r.controlNavClass,f=1,l=false,c=false,h="",p=e(this),d=null;var v=e(".vts_slider",p),m=e(".vts_accordion",p),g=v.find(".vts_slide"),y=m.find(".vts_header"),b=m.find(".vts_content");var w=["fade","slideLeft","slideUp","slideRight","slideDown","overLeft","overRight","overUp","overDown"],E=["slideLeft","slideUp","slideRight","slideDown"],S=["overLeft","overRight","overUp","overDown"],x=["wipeDown","wipeUp"],T=["wipeDownFade","wipeUpFade"],N=["wipeDown","wipeUp","wipeDownFade","wipeUpFade"];var C={queue:true,duration:r.speed,easing:r.easingOption};var k=g.length,L=y.length;var A={random:w,slideRandom:E,overRandom:S};var O=function(){if(k===L){if(r.autoPlay===true){d=setInterval(function(){P(t,s)},o);p.data("interval",d)}if(r.hoverPause===true&&r.autoPlay===true){p.hover(function(){l=true;B()},function(){l=false;j()})}U();g.eq(t).css("z-index",f);f++;b.hide();y.eq(t).addClass("active").next().show();if(u){v.append('<div class="'+a+" "+a+'-left"></div><div class="'+a+" "+a+'-right"></div>');e("."+a+"-left").click(F);e("."+a+"-right").click(I)}y.click(D)}else{console.log("The number of slider images does not match the number of accordion sections.")}};var M=function(e,t){e=t[~~(Math.random()*t.length)];return e==h?M(e,t):e};var _=function(t,n,i){if(!c){c=true;if(r.autoPlay===true&&r.intervalPause===false){j()}var s=g.eq(t),o=g.eq(n),u=s.outerWidth(),a=s.outerHeight();if(A[i]){i=M(i,A[i])}var l=function(t,n){var r={left:"0",top:"0",zIndex:f};t.css(e.extend(r,n))};var p=function(t,n){if(t instanceof Array){e.each(t,function(){p(e(this),n)});return}var r={left:"0",top:"0"};t.animate(e.extend(r,n),C)};h=i;switch(i){case"fade":o.css({"z-index":f,top:"0",left:"0",display:"none"}).fadeIn(r.speed);break;case"slideLeft":l(o,{left:u,top:0});p([s,o],{left:"-="+u});break;case"slideRight":l(o,{left:"-"+u+"px",top:0});p([s,o],{left:"+="+u});break;case"slideUp":l(o,{top:a,left:0});p([s,o],{top:"-="+a});break;case"slideDown":l(o,{top:"-"+a+"px",left:0});p([s,o],{top:"+="+a});break;case"overLeft":l(o,{left:u});p(o,{left:"-="+u});break;case"overRight":l(o,{left:"-"+u+"px"});p(o,{left:"+="+u+"px"});break;case"overUp":l(o,{top:a});p(o,{top:"-="+a});break;case"overDown":l(o,{top:"-"+a+"px"});p(o,{top:"+="+a});break;case"none":o.css({"z-index":f});break}setTimeout(function(){c=false;R(o)},r.speed)}};var D=function(){if(!c){var n=e(this).index()/2;if(n===t)return false;y.removeClass("active").next(".vts_content").slideUp();y.eq(n).addClass("active").next(".vts_content").slideDown();_(t,n,s);f++;t=n;return false}};var P=function(e,t){y.eq(q(e)).trigger("click",D)};var H=function(){d=setInterval(function(){P(t,s)},o);p.data("interval",d)};var B=function(){clearInterval(p.data("interval"))};var j=function(){clearInterval(p.data("interval"));d=setInterval(function(){P(t,s)},o);p.data("interval",d)};var F=function(){y.eq(q(t-2)).trigger("click",D)};var I=function(){y.eq(q(t)).trigger("click",D)};var q=function(e){e++;if(e===k){return 0}else if(e<0){return L-1}else{return e}};var R=function(e){if(f>k*3){f=2;g.css("z-index","1");e.css("z-index",f);f++}};var U=function(){for(var e=k-1;e>0;e--){g.eq(e).css("z-index",f);f++}};O()})}})})(jQuery)